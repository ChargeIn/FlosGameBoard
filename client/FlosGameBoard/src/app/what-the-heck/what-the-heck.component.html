<!--
  ~ Copyright (c) Florian Plesker
  -->
<div *ngIf="transition" class="transition-box">
    <div class="flex-1"></div>
    <div class="content">
        <h2>Scores</h2>
        <div class="d-flex flex-column w-100">
            <div class="player-info-container" *ngFor="let player of players">
                <img alt="Avatar" class="avatar-small"
                     src="assets/avatars/{{player.user.avatar}}.png">
                <span class="player-name flex-grow-1">{{player.user.name}}</span>
                <score [score]="player.score" [range]="[20, -10]"></score>
            </div>
        </div>
    </div>
    <div class="flex-4"></div>
</div>
<div class="game-board">
    <div class="game-table">
        <div *ngIf="currentCard" class="current-card" [class.negative]="currentCard < 0">
            <span>{{currentCard}}</span>
        </div>
    </div>

    <div class="player-container">
        <div *ngFor="let i of opponents, let j = index" class="player-{{j}} player">
            <img alt="Avatar" class="avatar-small" src="assets/avatars/{{players[i].user.avatar}}.png">
            {{players[i].user.name}}:
            <score [score]="players[i].score" [range]="[20, -10]"></score>
            <div class="player-card" [class.played]="players[i].playedCard">
                <mat-icon *ngIf="players[i].playedCard">check</mat-icon>
            </div>
        </div>
    </div>

    <div class="card-container">
        <div class="grid">
            <app-card *ngFor="let card of currentDeck" (click)="playCard(card)" [value]=card></app-card>
        </div>
    </div>
</div>
